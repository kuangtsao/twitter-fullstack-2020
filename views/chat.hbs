{{> left}}

<div class="col-6" style="position:absolute; left:420px">
  <div class="row row-cols-1 row-cols-md-1">
    {{!-- logo --}}
    <div class="col">
      <div class="card pagetitle_card" style="width: 416px;border: #E6ECF0 1px solid;">
        <div class="card-body">
          <p style="width:300px ; ;font-weight: 700;font-size: 24px;line-height: 26px;">
            上線使用者 (5)
          </p>
        </div>
      </div>
    </div>

    {{!-- logo --}}
    <div class="col">
      <div class="card pagetitle_card" style="width: 713px; left:416px; border: #E6ECF0 1px solid;">
        <div class="card-body">
          <p style="width:300px ; font-weight: 700;font-size: 24px;line-height: 26px;">
            公開聊天室
          </p>
        </div>
        <div class="card-body" style="margin-top:-21px;margin-left:1px">
          <div class="public-chatroom-content"
            style="border: #E6ECF0 1px solid;width: 713px;; margin-left:-17px;margin-top:-15px">
            <ul id="messages">
            </ul>
          </div>
          <form action="" id="form">
            <div class="public-chatroom-typing d-flex justify-content-between"
              style="border: #E6ECF0 1px solid;width: 713px; margin-left:-17px;height: 64px;">
              <label for="msg">
                <input id="input" style="border:none;outline:medium;width: 641px; margin-top:15px;
height: 32px;margin-left:20px; background: #E6ECF0;border: 1px solid #E6ECF0;border-radius: 50px;" id="input"
                  autocomplete="off" />
              </label>
              <div class="submit-section">
                <button type="submit" class="btn" style="margin-top:12px">
                  <img src="/images/送出鍵.svg" alt="">
                </button>
              </div>
            </div>
          </form>
        </div>


      </div>
    </div>
  </div>
</div>






<script src="/socket.io/socket.io.js"></script>
<script>
  var socket = io()
  var form = document.getElementById('form')
  var input = document.getElementById('input')
  form.addEventListener('submit', function (e) {
    e.preventDefault()
    if (input.value) {
      socket.emit('chat message', input.value);
      input.value = ''
    }
  })
  socket.on('chat message', function (msg) {
    var item = document.createElement('li')
    item.textContent = msg;
    messages.appendChild(item)
  })
</script>