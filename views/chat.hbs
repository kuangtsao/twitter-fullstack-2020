{{> left}}

<div class="col-6" style="position:absolute; left:420px">
  <div class="row row-cols-1 row-cols-md-1">
    {{!-- 上線使用者 --}}
    <div class="col">
      <div class="card pagetitle_card" style="width: 416px;border: #E6ECF0 1px solid;">
        <div class="card-body">
          <p style="width:300px ; ;font-weight: 700;font-size: 24px;line-height: 26px;">
            上線使用者 (5)
          </p>
        </div>
      </div>
    </div>


    {{!-- 上線使用者列 --}}
    <div class="col-6" style="width: 416px;margin-top: 52px;">
      {{!-- 人員1 --}}
      <div class="card popular_card"
        style="width: 416px;border-radius: 0%;border: #E6ECF0 1px solid; margin-top:-1px; margin-left:-1px">
        <div class="popular_imgbody">
          <a href="/users/{{this.UserId}}/tweets">
            <img src="https://picsum.photos/200/300?random=58.72222733877057" class="popular_img" alt="...">
          </a>
        </div>
        <div class="card-body tweet_cardbody">
          <div class="tweet_title">
            <a href="/users/{{this.UserId}}/tweets" style="text-decoration: none; ">
              <p class="tweet_name">aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa</p>
            </a>
            <p class="tweet_acount" style="width: 100px;">
              @aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa
            </p>
          </div>
        </div>
      </div>
      {{!-- 人員2 --}}
      <div class="card popular_card"
        style="width: 416px;border-radius: 0%;border: #E6ECF0 1px solid; margin-top:-1px; margin-left:-1px">
        <div class="popular_imgbody">
          <a href="/users/{{this.UserId}}/tweets">
            <img src="https://picsum.photos/200/300?random=23.334051375030683" class="popular_img" alt="...">
          </a>
        </div>
        <div class="card-body tweet_cardbody">
          <div class="tweet_title">
            <a href="/users/{{this.UserId}}/tweets" style="text-decoration: none; ">
              <p class="tweet_name">aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa</p>
            </a>
            <p class="tweet_acount" style="width: 100px;">
              @aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa
            </p>
          </div>
        </div>
      </div>
    </div>


    {{!-- 公開聊天室 --}}
    <div class="col" style="position:fixed">
      <div class="card pagetitle_card" style="width: 713px; left:416px; border: #E6ECF0 1px solid;">
        <div class="card-body">
          <p style="width:300px ; font-weight: 700;font-size: 24px;line-height: 26px;">
            公開聊天室
          </p>
        </div>
        <div class="card-body" style="margin-top:-21px;margin-left:1px">
          {{!-- output --}}
          <div class="public-chatroom-content"
            style="border: #E6ECF0 1px solid;width: 713px;; margin-left:-17px;margin-top:-15px">
            <ul id="messages">
            </ul>
          </div>

          {{!-- input --}}
          <form action="" id="form">
            <div class="public-chatroom-typing d-flex justify-content-between"
              style="border: #E6ECF0 1px solid;width: 713px; margin-left:-17px;height: 64px;">
              <label for="msg">
                <input id="input"
                  style="border:none;outline:medium;width: 641px; margin-top:15px;height: 32px;margin-left:20px; background: #E6ECF0;border: 1px solid #E6ECF0;border-radius: 50px;"
                  id="input" autocomplete="off" />
              </label>
              <div class="submit-section">
                <button type="submit" class="btn" style="margin-top:12px">
                  <img src="/images/送出鍵.svg" alt="">
                </button>
              </div>
            </div>
          </form>
        </div>


      </div>
    </div>
  </div>
</div>






<script src="/socket.io/socket.io.js"></script>
<script>
  var socket = io()
  var form = document.getElementById('form')
  var input = document.getElementById('input')
  form.addEventListener('submit', function (e) {
    e.preventDefault()
    if (input.value) {
      socket.emit('chat message', input.value);
      input.value = ''
    }
  })
  socket.on('chat message', function (msg) {
    var item = document.createElement('li')
    item.textContent = msg;
    messages.appendChild(item)
  })
</script>